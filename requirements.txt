# --- web & API (v1-compatible) ---
# If you don't actually use FastAPI/Gradio, you can remove them entirely.
fastapi==0.95.2
uvicorn[standard]==0.23.2
# If you need Gradio in the same env, use a v1-compatible release:
gradio==3.36.0

streamlit==1.46.0
requests==2.32.3

# --- auth & Microsoft Graph/SharePoint ---
msal==1.28.0
Office365-REST-Python-Client==2.5.12

# --- OpenAI & LangChain family (v1 lane) ---
openai>=1.30.0
# LangChain pre-v2 (uses Pydantic v1)
langchain==0.0.251
# Remove these pins (they force Pydantic v2):
# langchain-core
# langchain-community
# langchain-openai

# --- vector DB / embeddings ---
chromadb==0.4.0
faiss-cpu==1.7.4
sentence-transformers==2.2.2
torch==2.2.2  # CPU-only is fine on App Service

# --- doc parsing ---
python-docx==1.1.0
docx2txt==0.8
pypdf==4.2.0
pdfminer.six==20231228
python-pptx==0.6.23
lxml==4.9.3

# --- data stack (NumPy 1.x to avoid removed aliases) ---
numpy==1.26.4
pandas==2.2.2

# --- utils ---
tiktoken==0.7.0
typing-extensions>=4.7
packaging>=23.2

# Optional (only if your Linux image needs newer SQLite):
pysqlite3-binary==0.5.4 ; platform_system == "Linux" and python_version < "3.13"

# Pin Pydantic v1 (required by chromadb==0.4.0)
pydantic==1.10.20
